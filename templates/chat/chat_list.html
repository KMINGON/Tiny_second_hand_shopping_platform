{% extends 'base.html' %}
{% block title %}내 채팅 목록{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3>채팅 목록</h3>
  </div>
  <ul class="list-group">
    {% for chat in chat_partners %}
      <a href="{% url 'chat:private_chat' chat.user.id %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ chat.user.username }}</strong><br>
          <small class="text-muted">{{ chat.last_message|truncatechars:30 }}</small>
        </div>
        <small>{{ chat.last_message_time|date:"Y-m-d H:i" }}</small>
      </a>
    {% empty %}
      <li class="list-group-item">대화한 사용자가 없습니다.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
